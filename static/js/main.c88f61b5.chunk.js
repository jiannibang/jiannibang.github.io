(this["webpackJsonpfractal-tree"]=this["webpackJsonpfractal-tree"]||[]).push([[0],{105:function(e,t,a){e.exports=a(255)},110:function(e,t,a){},111:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),r=a(100),c=a.n(r),o=(a(110),a(65)),i=a(31),s=(a(111),a(1)),m=a(101),h=a(15),p=(a(254),new s.n(0,0,1)),u=[new s.n(0,-180,0),new s.n(0,-100,0)],f=function(){var e=Object(n.useState)({scene:null,camera:null,renderer:null,canvas:null,controls:null}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=a.scene,f=a.camera,d=a.renderer,w=a.controls,b=Object(n.useState)(null),g=Object(i.a)(b,2),v=g[0],E=g[1],A=Object(n.useState)(null),x=Object(i.a)(A,2),j=x[0],y=x[1],S=Object(n.useState)({leftAlpha:30,rightAlpha:-50,leftScale:.7,rightScale:.8,leftBeta:90,rightBeta:90,maxLevel:11,color:"brown"}),O=Object(i.a)(S,2),B=O[0],P=O[1],z=B.leftAlpha,I=B.rightAlpha,k=B.leftScale,M=B.rightScale,L=B.leftBeta,W=B.rightBeta,F=B.maxLevel,N=B.color,R=new s.f({color:N}),C=function(){!function(){if(c){for(var e=0;e<c.children.length;e++)c.remove(c.children[e]),e--;var t=new s.d(500);t.translateY(-180),c.add(t)}}();var e=[];!function t(a,n,l){if(0!=n){if(n===F)return e.push(a);var r=a[a.length-1],c=(new s.n).subVectors(r,a[a.length-2]),i=(new s.n).copy(c).normalize(),m=(new s.n).copy(c),h=l?(new s.n).copy(l).applyAxisAngle(i,L/180*Math.PI):p;m.applyAxisAngle(h,z/180*Math.PI),m.normalize();var u=(new s.n).copy(c),f=l?(new s.n).copy(l).applyAxisAngle(i,W/180*Math.PI):p;u.applyAxisAngle(f,I/180*Math.PI),u.normalize();var d=(new s.n).crossVectors(m,u).normalize();t([].concat(Object(o.a)(a),[(new s.n).copy(r).add(m.multiplyScalar(c.length()*k))]),n+1,d),t([].concat(Object(o.a)(a),[(new s.n).copy(r).add(u.multiplyScalar(c.length()*M))]),n+1,d)}}(u,1),e.map((function(e){return(new s.a).setFromPoints(e)})).map((function(e){return new s.e(e,R)})).forEach((function(e){c.add(e)}))};return Object(n.useEffect)((function(){c&&C()}),[c,z,I,k,M,L,W,F,N]),Object(n.useEffect)((function(){}),[j]),Object(n.useEffect)((function(){if(!a.scene){var e=new s.j,t=new s.h(45,window.innerWidth/window.innerHeight,.1,1e4),n=new s.o({alpha:!0});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio),e.background=new s.b(16777215),document.getElementsByClassName("App")[0].appendChild(n.domElement);var l=n.domElement,c=new m.a(t,l);c.autoRotate=!0,t.position.z=1e3,r({scene:e,camera:t,renderer:n,canvas:l,controls:c}),setInterval((function(){y((new Date).getTime())}),800)}}),[a]),Object(n.useEffect)((function(){c&&(w.update(),d.render(c,f)),requestAnimationFrame(E)}),[v]),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"hud"},l.a.createElement("h1",null,"Fractal tree in 3D"),l.a.createElement("h2",null,"inspired by"," ",l.a.createElement("a",{href:"https://www.haojunlu.com/article/tree.html"},"haojunlu's article"))),l.a.createElement(h.c,{data:B,onUpdate:P},l.a.createElement(h.b,{path:"leftAlpha",label:"leftAlpha",min:-180,max:180,step:1}),l.a.createElement(h.b,{path:"rightAlpha",label:"rightAlpha",min:-180,max:180,step:1}),l.a.createElement(h.b,{path:"leftScale",label:"leftScale",min:-2,max:2,step:.01}),l.a.createElement(h.b,{path:"rightScale",label:"rightScale",min:-2,max:2,step:.01}),l.a.createElement(h.b,{path:"leftBeta",label:"leftBeta",min:-180,max:180,step:1}),l.a.createElement(h.b,{path:"rightBeta",label:"rightBeta",min:-180,max:180,step:1}),l.a.createElement(h.b,{path:"maxLevel",label:"maxLevel",min:2,max:20,step:1}),l.a.createElement(h.a,{path:"color",label:"color"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.c88f61b5.chunk.js.map